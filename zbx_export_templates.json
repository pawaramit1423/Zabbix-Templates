{
    "zabbix_export": {
        "version": "6.0",
        "date": "2022-09-22T09:29:44Z",
        "groups": [
            {
                "uuid": "abff6d9b45dd48e2ae9efb99c0670edc",
                "name": "OracleDB"
            }
        ],
        "templates": [
            {
                "uuid": "390794639a2b4a9cbc45c343e0e4c258",
                "template": "Template Non-Prod Oracle DB",
                "name": "Template Non-Prod Oracle DB",
                "groups": [
                    {
                        "name": "OracleDB"
                    }
                ],
                "items": [
                    {
                        "uuid": "5cd874533920478fa7fae49136b37110",
                        "name": "Oracle: Get CDB and No-CDB info for DSN1",
                        "type": "ODBC",
                        "key": "db.odbc.get[CDB_and_No-CDB_info,{$ORACLE.DSN1}]",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT name as DBNAME,\nDECODE(open_mode, 'MOUNTED', 1, 'READ ONLY', 2, 'READ WRITE', 3, 'READ ONLY WITH APPLY', 4, 'MIGRATE', 5, 0) AS open_mode,\nDECODE(database_role, 'SNAPSHOT STANDBY', 1, 'LOGICAL STANDBY', 2, 'PHYSICAL STANDBY', 3, 'PRIMARY', 4, 'FAR SYNC', 5, 0) AS ROLE,\nDECODE(force_logging, 'YES',1,'NO',0,0) AS force_logging,\nDECODE(log_mode, 'MANUAL',2 ,'ARCHIVELOG',1,'NOARCHIVELOG',0,0) AS log_mode\nFROM v$database",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Get info about CDB and  No-CDB databases on instansce.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "7cbe60f77f0844109afba33d4c4cb86e",
                        "name": "Oracle: Get CDB and No-CDB info for DSN2",
                        "type": "ODBC",
                        "key": "db.odbc.get[CDB_and_No-CDB_info,{$ORACLE.DSN2}]",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT name as DBNAME,\nDECODE(open_mode, 'MOUNTED', 1, 'READ ONLY', 2, 'READ WRITE', 3, 'READ ONLY WITH APPLY', 4, 'MIGRATE', 5, 0) AS open_mode,\nDECODE(database_role, 'SNAPSHOT STANDBY', 1, 'LOGICAL STANDBY', 2, 'PHYSICAL STANDBY', 3, 'PRIMARY', 4, 'FAR SYNC', 5, 0) AS ROLE,\nDECODE(force_logging, 'YES',1,'NO',0,0) AS force_logging,\nDECODE(log_mode, 'MANUAL',2 ,'ARCHIVELOG',1,'NOARCHIVELOG',0,0) AS log_mode\nFROM v$database",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Get info about CDB and  No-CDB databases on instansce.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "df6183a7782f42ee8711df6df4aebf25",
                        "name": "Oracle: Get archive log info for DSN1",
                        "type": "ODBC",
                        "key": "db.odbc.get[get_archivelog_stat,{$ORACLE.DSN1}]",
                        "history": "7d",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT\nd.dest_name, DECODE (d.status, 'VALID',3, 'DEFERRED', 2, 'ERROR', 1, 0) AS status,\nd.log_sequence,\nd.error\nFROM v$archive_dest d , v$database db\nWHERE d.status != 'INACTIVE' AND db.log_mode = 'ARCHIVELOG';",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Identifies the current status of the destination: 1 - 'Valid', 2 - 'Dederred',3 - 'Error', 0 - 'Unknown'",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "c5f8240fcf964e559f185fba55217ce8",
                        "name": "Oracle: Get archive log info for DSN2",
                        "type": "ODBC",
                        "key": "db.odbc.get[get_archivelog_stat,{$ORACLE.DSN2}]",
                        "history": "7d",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT\nd.dest_name, DECODE (d.status, 'VALID',3, 'DEFERRED', 2, 'ERROR', 1, 0) AS status,\nd.log_sequence,\nd.error\nFROM v$archive_dest d , v$database db\nWHERE d.status != 'INACTIVE' AND db.log_mode = 'ARCHIVELOG';",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Identifies the current status of the destination: 1 - 'Valid', 2 - 'Dederred',3 - 'Error', 0 - 'Unknown'",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "0a256d60420e45d09272f5b5a1fd8d18",
                        "name": "Oracle: Get system metrics for DSN1",
                        "type": "ODBC",
                        "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]",
                        "delay": "5m;m0-59",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT 'SYS::' || METRIC_NAME AS METRIC, ROUND(VALUE,3) as VALUE FROM V$SYSMETRIC WHERE GROUP_ID = 2\nUNION\nSELECT 'SYSPARAM::' || INITCAP(NAME) AS METRIC,to_number(VALUE)FROM V$SYSTEM_PARAMETER WHERE NAME IN ('sessions', 'processes', 'db_files')\nUNION\nSELECT 'SESSION::Long time locked' ,count(*) FROM V$SESSION s WHERE s.BLOCKING_SESSION IS NOT NULL AND s.BLOCKING_SESSION_STATUS='VALID' AND s.SECONDS_IN_WAIT > {$ORACLE.SESSION.LOCK.MAX.TIME}\nUNION\nSELECT 'SESSION::Lock rate' ,(cnt_block / cnt_all)* 100 pct\nFROM ( SELECT COUNT(*) cnt_block FROM v$session WHERE blocking_session IS NOT NULL), ( SELECT COUNT(*) cnt_all FROM v$session)\nUNION\nSELECT 'SESSION::Long time locked' ,count(*) FROM V$SESSION s WHERE s.BLOCKING_SESSION IS NOT NULL AND s.BLOCKING_SESSION_STATUS='VALID' AND s.SECONDS_IN_WAIT > {$ORACLE.SESSION.LOCK.MAX.TIME}\nUNION\nSELECT 'SESSION::Total', COUNT(*) AS VALUE FROM V$SESSION\nUNION\nSELECT 'SESSION::Concurrency rate', NVL(ROUND(SUM(duty_act.cnt*100 / num_cores.val)), 0)\nFROM( SELECT DECODE(session_state, 'ON CPU', 'CPU', wait_class) wait_class, ROUND(COUNT(*)/(60 * 15), 1) cnt\nFROM v$active_session_history sh\nWHERE sh.sample_time >= SYSDATE - 15 / 1440 AND DECODE(session_state, 'ON CPU', 'CPU', wait_class) IN('Concurrency') GROUP BY DECODE(session_state, 'ON CPU', 'CPU', wait_class)) duty_act,( SELECT SUM(value) val FROM v$osstat WHERE stat_name = 'NUM_CPU_CORES') num_cores\nUNION\nSELECT 'PGA::' || INITCAP(NAME), VALUE FROM V$PGASTAT\nUNION\nSELECT 'FRA::Space Limit' AS METRIC, space_limit AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Space Used', space_used AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Space Reclaimable', space_reclaimable AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Number Of Files', number_of_files AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Usable Pct', DECODE(space_limit, 0, 0,(100-(100 *(space_used-space_reclaimable)/ space_limit))) AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'PROC::Procnum', COUNT(*) FROM v$process\nUNION\nSELECT 'DATAFILE::Count', COUNT(*) FROM v$datafile\nUNION\nSELECT 'SGA::' || INITCAP(pool), SUM(bytes) FROM V$SGASTAT\nWHERE pool IN ( 'java pool', 'large pool' ) GROUP BY pool\nUNION\nSELECT 'SGA::Shared Pool', SUM(bytes) FROM V$SGASTAT\nWHERE pool = 'shared pool' AND name NOT IN ('library cache', 'dictionary cache', 'free memory', 'sql area')\nUNION\nSELECT 'SGA::' || INITCAP(name), bytes FROM V$SGASTAT WHERE pool IS NULL AND name IN ('log_buffer', 'fixed_sga')\nUNION\nSELECT 'SGA::Buffer_Cache', SUM(bytes) FROM V$SGASTAT WHERE pool IS NULL AND name IN ('buffer_cache','db_block_buffers')\nUNION\nSELECT 'REDO::Available', count(*) from v$log t where t.status in ('INACTIVE', 'UNUSED')\nUNION\nSELECT 'USER::Expire password', ROUND(DECODE(SIGN(NVL(u.expiry_date, SYSDATE + 999) - SYSDATE),-1, 0, NVL(u.expiry_date, SYSDATE + 999) - SYSDATE)) exp_passwd_days_before FROM dba_users u WHERE username = UPPER('{$ORACLE.USER}');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "The item gets system metric values.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "3d791996dddf4b8ea5f4d1f2954848a3",
                        "name": "Oracle: Get system metrics for DSN2",
                        "type": "ODBC",
                        "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]",
                        "delay": "5m;m0-59",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT 'SYS::' || METRIC_NAME AS METRIC, ROUND(VALUE,3) as VALUE FROM V$SYSMETRIC WHERE GROUP_ID = 2\nUNION\nSELECT 'SYSPARAM::' || INITCAP(NAME) AS METRIC,to_number(VALUE)FROM V$SYSTEM_PARAMETER WHERE NAME IN ('sessions', 'processes', 'db_files')\nUNION\nSELECT 'SESSION::Long time locked' ,count(*) FROM V$SESSION s WHERE s.BLOCKING_SESSION IS NOT NULL AND s.BLOCKING_SESSION_STATUS='VALID' AND s.SECONDS_IN_WAIT > {$ORACLE.SESSION.LOCK.MAX.TIME}\nUNION\nSELECT 'SESSION::Lock rate' ,(cnt_block / cnt_all)* 100 pct\nFROM ( SELECT COUNT(*) cnt_block FROM v$session WHERE blocking_session IS NOT NULL), ( SELECT COUNT(*) cnt_all FROM v$session)\nUNION\nSELECT 'SESSION::Long time locked' ,count(*) FROM V$SESSION s WHERE s.BLOCKING_SESSION IS NOT NULL AND s.BLOCKING_SESSION_STATUS='VALID' AND s.SECONDS_IN_WAIT > {$ORACLE.SESSION.LOCK.MAX.TIME}\nUNION\nSELECT 'SESSION::Total', COUNT(*) AS VALUE FROM V$SESSION\nUNION\nSELECT 'SESSION::Concurrency rate', NVL(ROUND(SUM(duty_act.cnt*100 / num_cores.val)), 0)\nFROM( SELECT DECODE(session_state, 'ON CPU', 'CPU', wait_class) wait_class, ROUND(COUNT(*)/(60 * 15), 1) cnt\nFROM v$active_session_history sh\nWHERE sh.sample_time >= SYSDATE - 15 / 1440 AND DECODE(session_state, 'ON CPU', 'CPU', wait_class) IN('Concurrency') GROUP BY DECODE(session_state, 'ON CPU', 'CPU', wait_class)) duty_act,( SELECT SUM(value) val FROM v$osstat WHERE stat_name = 'NUM_CPU_CORES') num_cores\nUNION\nSELECT 'PGA::' || INITCAP(NAME), VALUE FROM V$PGASTAT\nUNION\nSELECT 'FRA::Space Limit' AS METRIC, space_limit AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Space Used', space_used AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Space Reclaimable', space_reclaimable AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Number Of Files', number_of_files AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'FRA::Usable Pct', DECODE(space_limit, 0, 0,(100-(100 *(space_used-space_reclaimable)/ space_limit))) AS VALUE FROM V$RECOVERY_FILE_DEST\nUNION\nSELECT 'PROC::Procnum', COUNT(*) FROM v$process\nUNION\nSELECT 'DATAFILE::Count', COUNT(*) FROM v$datafile\nUNION\nSELECT 'SGA::' || INITCAP(pool), SUM(bytes) FROM V$SGASTAT\nWHERE pool IN ( 'java pool', 'large pool' ) GROUP BY pool\nUNION\nSELECT 'SGA::Shared Pool', SUM(bytes) FROM V$SGASTAT\nWHERE pool = 'shared pool' AND name NOT IN ('library cache', 'dictionary cache', 'free memory', 'sql area')\nUNION\nSELECT 'SGA::' || INITCAP(name), bytes FROM V$SGASTAT WHERE pool IS NULL AND name IN ('log_buffer', 'fixed_sga')\nUNION\nSELECT 'SGA::Buffer_Cache', SUM(bytes) FROM V$SGASTAT WHERE pool IS NULL AND name IN ('buffer_cache','db_block_buffers')\nUNION\nSELECT 'REDO::Available', count(*) from v$log t where t.status in ('INACTIVE', 'UNUSED')\nUNION\nSELECT 'USER::Expire password', ROUND(DECODE(SIGN(NVL(u.expiry_date, SYSDATE + 999) - SYSDATE),-1, 0, NVL(u.expiry_date, SYSDATE + 999) - SYSDATE)) exp_passwd_days_before FROM dba_users u WHERE username = UPPER('{$ORACLE.USER}');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "The item gets system metric values.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "4befc120dec94cf5968ec5162f05d79a",
                        "name": "Oracle: Get tablespaces stats for DSN1",
                        "type": "ODBC",
                        "key": "db.odbc.get[get_tablespaces_stats,{$ORACLE.DSN1}]",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT\n  df.tablespace_name AS TABLESPACE, \n  df.type AS TYPE, \n  NVL(SUM(df.BYTES), 0) AS FILE_BYTES, \n  NVL(SUM(df.MAX_BYTES), 0) AS MAX_BYTES, \n  NVL(SUM(f.FREE), 0) AS FREE_BYTES,\n  SUM(df.BYTES)-SUM(f.FREE) AS USED_BYTES,\n  ROUND(DECODE(SUM(df.MAX_BYTES), 0, 0, (SUM(df.BYTES) / SUM(df.MAX_BYTES) * 100)), 2) AS USED_PCT_MAX, \n  ROUND(DECODE(SUM(df.BYTES), 0, 0,(SUM(df.BYTES)-SUM(f.FREE))/ SUM(df.BYTES)* 100), 2) AS USED_FILE_PCT,\n  DECODE(df.STATUS, 'ONLINE', 1, 'OFFLINE', 2, 'READ ONLY', 3, 0) AS STATUS\nFROM ( SELECT\n   ddf.file_id,\n   dt.contents AS TYPE,\n   dt.STATUS ,\n   ddf.file_name,\n   ddf.tablespace_name,\n   TRUNC(ddf.bytes) AS bytes,\n   TRUNC(GREATEST(ddf.bytes, ddf.maxbytes)) AS max_bytes\n   FROM\n    dba_data_files ddf,\n    dba_tablespaces dt\n  WHERE\n   ddf.tablespace_name = dt.tablespace_name ) df,\n   ( SELECT TRUNC(SUM(bytes)) AS FREE, file_id FROM dba_free_space GROUP BY file_id ) f\n   WHERE df.file_id = f.file_id (+)\n   GROUP BY df.tablespace_name, df.TYPE, df.status\nUNION ALL\nSELECT\n  Y.name AS TABLESPACE, \n  Y.type AS TYPE, \n  NVL(SUM(Y.BYTES), 0) AS FILE_BYTES, \n  NVL(SUM(Y.MAX_BYTES), 0) AS MAX_BYTES, \n  NVL(MAX(NVL(Y.FREE_BYTES, 0)), 0) AS FREE,\n  SUM(Y.BYTES)-SUM(Y.FREE_BYTES) AS USED_BYTES,\n  ROUND(DECODE(SUM(Y.MAX_BYTES), 0, 0, (SUM(Y.BYTES) / SUM(Y.MAX_BYTES) * 100)), 2) AS USED_PCT_MAX, \n  ROUND(DECODE(SUM(Y.BYTES), 0, 0,(SUM(Y.BYTES)-SUM(Y.FREE_BYTES))/ SUM(Y.BYTES)* 100), 2) AS USED_FILE_PCT,\n  DECODE(Y.TBS_STATUS, 'ONLINE', 1, 'OFFLINE', 2, 'READ ONLY', 3, 0) AS STATUS \n   FROM ( SELECT\n     dtf.tablespace_name AS name,\n     dt.contents AS TYPE,\n     dt.STATUS AS tbs_status,\n     dtf.status AS status,\n     dtf.bytes AS bytes,\n     (SELECT\n       ((f.total_blocks - s.tot_used_blocks)* vp.value)\n       FROM ( SELECT tablespace_name, SUM(used_blocks) tot_used_blocks FROM gv$sort_segment\n          WHERE tablespace_name != 'DUMMY'\n          GROUP BY tablespace_name) s,\n     ( SELECT tablespace_name, SUM(blocks) total_blocks FROM dba_temp_files\n       WHERE tablespace_name != 'DUMMY'\n       GROUP BY tablespace_name) f,\n     ( SELECT value FROM v$parameter WHERE name = 'db_block_size') vp\n   WHERE\n     f.tablespace_name = s.tablespace_name\n     AND f.tablespace_name = dtf.tablespace_name ) AS free_bytes,\n     CASE WHEN dtf.maxbytes = 0 THEN dtf.bytes\n     ELSE dtf.maxbytes END AS max_bytes\n   FROM\n    sys.dba_temp_files dtf,\n    sys.dba_tablespaces dt\n   WHERE\n   dtf.tablespace_name = dt.tablespace_name ) Y\n   GROUP BY Y.name, Y.TYPE, Y.tbs_status;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Get tablespaces stats.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "d2e57cb311f74b45bc28d4c9a124a7f8",
                        "name": "Oracle: Get tablespaces stats for DSN2",
                        "type": "ODBC",
                        "key": "db.odbc.get[get_tablespaces_stats,{$ORACLE.DSN2}]",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT\n  df.tablespace_name AS TABLESPACE, \n  df.type AS TYPE, \n  NVL(SUM(df.BYTES), 0) AS FILE_BYTES, \n  NVL(SUM(df.MAX_BYTES), 0) AS MAX_BYTES, \n  NVL(SUM(f.FREE), 0) AS FREE_BYTES,\n  SUM(df.BYTES)-SUM(f.FREE) AS USED_BYTES,\n  ROUND(DECODE(SUM(df.MAX_BYTES), 0, 0, (SUM(df.BYTES) / SUM(df.MAX_BYTES) * 100)), 2) AS USED_PCT_MAX, \n  ROUND(DECODE(SUM(df.BYTES), 0, 0,(SUM(df.BYTES)-SUM(f.FREE))/ SUM(df.BYTES)* 100), 2) AS USED_FILE_PCT,\n  DECODE(df.STATUS, 'ONLINE', 1, 'OFFLINE', 2, 'READ ONLY', 3, 0) AS STATUS\nFROM ( SELECT\n   ddf.file_id,\n   dt.contents AS TYPE,\n   dt.STATUS ,\n   ddf.file_name,\n   ddf.tablespace_name,\n   TRUNC(ddf.bytes) AS bytes,\n   TRUNC(GREATEST(ddf.bytes, ddf.maxbytes)) AS max_bytes\n   FROM\n    dba_data_files ddf,\n    dba_tablespaces dt\n  WHERE\n   ddf.tablespace_name = dt.tablespace_name ) df,\n   ( SELECT TRUNC(SUM(bytes)) AS FREE, file_id FROM dba_free_space GROUP BY file_id ) f\n   WHERE df.file_id = f.file_id (+)\n   GROUP BY df.tablespace_name, df.TYPE, df.status\nUNION ALL\nSELECT\n  Y.name AS TABLESPACE, \n  Y.type AS TYPE, \n  NVL(SUM(Y.BYTES), 0) AS FILE_BYTES, \n  NVL(SUM(Y.MAX_BYTES), 0) AS MAX_BYTES, \n  NVL(MAX(NVL(Y.FREE_BYTES, 0)), 0) AS FREE,\n  SUM(Y.BYTES)-SUM(Y.FREE_BYTES) AS USED_BYTES,\n  ROUND(DECODE(SUM(Y.MAX_BYTES), 0, 0, (SUM(Y.BYTES) / SUM(Y.MAX_BYTES) * 100)), 2) AS USED_PCT_MAX, \n  ROUND(DECODE(SUM(Y.BYTES), 0, 0,(SUM(Y.BYTES)-SUM(Y.FREE_BYTES))/ SUM(Y.BYTES)* 100), 2) AS USED_FILE_PCT,\n  DECODE(Y.TBS_STATUS, 'ONLINE', 1, 'OFFLINE', 2, 'READ ONLY', 3, 0) AS STATUS \n   FROM ( SELECT\n     dtf.tablespace_name AS name,\n     dt.contents AS TYPE,\n     dt.STATUS AS tbs_status,\n     dtf.status AS status,\n     dtf.bytes AS bytes,\n     (SELECT\n       ((f.total_blocks - s.tot_used_blocks)* vp.value)\n       FROM ( SELECT tablespace_name, SUM(used_blocks) tot_used_blocks FROM gv$sort_segment\n          WHERE tablespace_name != 'DUMMY'\n          GROUP BY tablespace_name) s,\n     ( SELECT tablespace_name, SUM(blocks) total_blocks FROM dba_temp_files\n       WHERE tablespace_name != 'DUMMY'\n       GROUP BY tablespace_name) f,\n     ( SELECT value FROM v$parameter WHERE name = 'db_block_size') vp\n   WHERE\n     f.tablespace_name = s.tablespace_name\n     AND f.tablespace_name = dtf.tablespace_name ) AS free_bytes,\n     CASE WHEN dtf.maxbytes = 0 THEN dtf.bytes\n     ELSE dtf.maxbytes END AS max_bytes\n   FROM\n    sys.dba_temp_files dtf,\n    sys.dba_tablespaces dt\n   WHERE\n   dtf.tablespace_name = dt.tablespace_name ) Y\n   GROUP BY Y.name, Y.TYPE, Y.tbs_status;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Get tablespaces stats.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "ce90a795f26f426c88306ebff715a86c",
                        "name": "Oracle: Get instance state for DSN1",
                        "type": "ODBC",
                        "key": "db.odbc.get[Instance_State,{$ORACLE.DSN1}]",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT\nINSTANCE_NAME,\nHOST_NAME,\nVERSION || '-' || EDITION AS VERSION,\nfloor((SYSDATE - startup_time)*60*60*24) AS UPTIME,\ndecode(status,'STARTED',1,'MOUNTED',2,'OPEN',3,'OPEN MIGRATE',4, 0) AS STATUS,\ndecode(archiver,'STOPPED',1,'STARTED',2,'FAILED',3, 0) AS  ARCHIVER,\ndecode(instance_role,'PRIMARY_INSTANCE',1,'SECONDARY_INSTANCE',2, 0) AS  INSTANCE_ROLE\nFROM v$instance;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "The item gets state of the current instance.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "31b6504e42224efc927b6dbbd3cd4276",
                        "name": "Oracle: Get instance state for DSN2",
                        "type": "ODBC",
                        "key": "db.odbc.get[Instance_State,{$ORACLE.DSN2}]",
                        "history": "0",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "SELECT\nINSTANCE_NAME,\nHOST_NAME,\nVERSION || '-' || EDITION AS VERSION,\nfloor((SYSDATE - startup_time)*60*60*24) AS UPTIME,\ndecode(status,'STARTED',1,'MOUNTED',2,'OPEN',3,'OPEN MIGRATE',4, 0) AS STATUS,\ndecode(archiver,'STOPPED',1,'STARTED',2,'FAILED',3, 0) AS  ARCHIVER,\ndecode(instance_role,'PRIMARY_INSTANCE',1,'SECONDARY_INSTANCE',2, 0) AS  INSTANCE_ROLE\nFROM v$instance;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "The item gets state of the current instance.",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "12619d8a09c14e558f2bd0b5247cd645",
                        "name": "Archive Area Usage for {$ORACLE.DSN1}",
                        "type": "ODBC",
                        "key": "db.odbc.select[ArchiveAreaUsage,{$ORACLE.DSN1}]",
                        "value_type": "FLOAT",
                        "units": "%",
                        "params": "SELECT SUM(B.PERCENT_SPACE_USED)  AS PERCENT_OF_SPACE_USED FROM V$RECOVERY_FILE_DEST A,V$FLASH_RECOVERY_AREA_USAGE B GROUP BY SPACE_LIMIT,SPACE_USED ,SPACE_RECLAIMABLE;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Archive Area Usage",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "0762b1c0fb2c4e92bf7c2d95e45066aa",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[ArchiveAreaUsage,{$ORACLE.DSN1}])>{$ORACLE.ARCHIVEAREA.USAGE.WARN}",
                                "name": "Oracle: Archive Area usage % is HIGH for {$ORACLE.DSN1}",
                                "priority": "WARNING",
                                "description": "Oracle: Archive Area usage % is HIGH for {$ORACLE.DSN1}"
                            },
                            {
                                "uuid": "25517207b3104259996fcf6e6ea99320",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[ArchiveAreaUsage,{$ORACLE.DSN1}])>{$ORACLE.ARCHIVEAREA.USAGE.HIGH}",
                                "name": "Oracle: Archive Area usage % is Too HIGH for {$ORACLE.DSN1}",
                                "priority": "AVERAGE",
                                "description": "Oracle: Archive Area usage % is Too HIGH for {$ORACLE.DSN1}"
                            }
                        ]
                    },
                    {
                        "uuid": "68f62b11579b44c4a748f5e732279a79",
                        "name": "Archive Area Usage for {$ORACLE.DSN2}",
                        "type": "ODBC",
                        "key": "db.odbc.select[ArchiveAreaUsage,{$ORACLE.DSN2}]",
                        "value_type": "FLOAT",
                        "units": "%",
                        "params": "SELECT SUM(B.PERCENT_SPACE_USED)  AS PERCENT_OF_SPACE_USED FROM V$RECOVERY_FILE_DEST A,V$FLASH_RECOVERY_AREA_USAGE B GROUP BY SPACE_LIMIT,SPACE_USED ,SPACE_RECLAIMABLE;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Archive Area Usage",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "1e7e6e804aeb4441ac601dcc27ce207a",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[ArchiveAreaUsage,{$ORACLE.DSN2}])>{$ORACLE.ARCHIVEAREA.USAGE.WARN}",
                                "name": "Oracle: Archive Area usage % is HIGH for {$ORACLE.DSN2}",
                                "priority": "WARNING",
                                "description": "Oracle: Archive Area usage % is HIGH for {$ORACLE.DSN2}"
                            },
                            {
                                "uuid": "4cbe7a5d283142a2a51977b83436dcdd",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[ArchiveAreaUsage,{$ORACLE.DSN2}])>{$ORACLE.ARCHIVEAREA.USAGE.HIGH}",
                                "name": "Oracle: Archive Area usage % is Too HIGH for {$ORACLE.DSN2}",
                                "priority": "AVERAGE",
                                "description": "Oracle: Archive Area usage % is Too HIGH for {$ORACLE.DSN2}"
                            }
                        ]
                    },
                    {
                        "uuid": "7786202fa8d441b784ab95f32c3f29dc",
                        "name": "Blocking Session for {$ORACLE.DSN1}",
                        "type": "ODBC",
                        "key": "db.odbc.select[Blocking,{$ORACLE.DSN1}]",
                        "params": "SELECT  S1.USERNAME || '@' || S1.MACHINE || ' ( SID=' || S1.SID || ',SERIAL=' || S1.SERIAL# || ' )  IS BLOCKING ' || S2.USERNAME || '@' || S2.MACHINE || ' ( SID=' || S2.SID || ',SERIAL=' || S2.SERIAL# || ' ) ' AS BLOCKING_STATUS FROM GV$LOCK L1, GV$SESSION S1, GV$LOCK L2, GV$SESSION S2 WHERE S1.SID=L1.SID AND S2.SID=L2.SID AND L1.BLOCK=1 AND L2.REQUEST > 0 AND L1.ID1 = L2.ID1 AND L2.ID2 = L2.ID2;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Blocking Session",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "c4f636b50f2d434083c9567a75cb3500",
                        "name": "DataGuard Log Gap Between Primary and Standby  for {$ORACLE.DSN1}",
                        "type": "ODBC",
                        "key": "db.odbc.select[Log_Gap,{$ORACLE.DSN1}]",
                        "trends": "0",
                        "value_type": "TEXT",
                        "params": "select LOG_ARCHIVED-LOG_APPLIED \"LOG_GAP\" from\n(SELECT MAX(SEQUENCE#) LOG_ARCHIVED\nFROM V$ARCHIVED_LOG WHERE DEST_ID=1 AND ARCHIVED='YES'),\n(SELECT MAX(SEQUENCE#) LOG_APPLIED\nFROM V$ARCHIVED_LOG WHERE DEST_ID=2 AND APPLIED='YES');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "DataGuard Log Gap Between Primary and Standby",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "9b9c6008375a4c0c80efcc7debad21f5",
                        "name": "Oracle Database '{#DBNAME}': Open status for DSN1",
                        "type": "ODBC",
                        "key": "db.odbc.select[Open_Status,{$ORACLE.DSN1}]",
                        "history": "7d",
                        "params": "SELECT DECODE(open_mode, 'MOUNTED', 1, 'READ ONLY', 2, 'READ WRITE', 3, 'READ ONLY WITH APPLY', 4, 'MIGRATE', 5, 0) AS open_mode FROM v$database;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "1 - 'MOUNTED', 2 - 'READ WRITE', 3 - 'READ ONLY', 4 - 'READ ONLY WITH APPLY' (A physical standby database is open in real-time query mode)",
                        "valuemap": {
                            "name": "Oracle DB open status"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "c468cbe9200246928a1511c6ccb80822",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Open_Status,{$ORACLE.DSN1}])=1",
                                "name": "Oracle Database {$ORACLE.DSN1} :  Open status in mount mode",
                                "priority": "WARNING",
                                "description": "The Oracle DB has a MOUNTED state."
                            }
                        ]
                    },
                    {
                        "uuid": "17f3f86b6b38445983e73a9358ef77a9",
                        "name": "Oracle Database '{#DBNAME}': Open status for DSN2",
                        "type": "ODBC",
                        "key": "db.odbc.select[Open_Status,{$ORACLE.DSN2}]",
                        "history": "7d",
                        "params": "SELECT DECODE(open_mode, 'MOUNTED', 1, 'READ ONLY', 2, 'READ WRITE', 3, 'READ ONLY WITH APPLY', 4, 'MIGRATE', 5, 0) AS open_mode FROM v$database;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "1 - 'MOUNTED', 2 - 'READ WRITE', 3 - 'READ ONLY', 4 - 'READ ONLY WITH APPLY' (A physical standby database is open in real-time query mode)",
                        "valuemap": {
                            "name": "Oracle DB open status"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "44b95086b1ef4474b8b7de08fc993fa1",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Open_Status,{$ORACLE.DSN2}])=1",
                                "name": "Oracle Database {$ORACLE.DSN2} :  Open status in mount mode",
                                "priority": "WARNING",
                                "description": "The Oracle DB has a MOUNTED state."
                            }
                        ]
                    },
                    {
                        "uuid": "3dba60165e9d4992b84748f9500e9b8c",
                        "name": "Process limit for DSN1 (IN %)",
                        "type": "ODBC",
                        "key": "db.odbc.select[Process_limit_DSN1,{$ORACLE.DSN1},]",
                        "value_type": "FLOAT",
                        "units": "%",
                        "params": "select ((current_utilization*100)/(INITIAL_ALLOCATION)) as \"Process limit %\" from v$resource_limit where resource_name in ('processes');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Process limit Percentage",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "90b4579e55f74d26a4da8367b5934483",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Process_limit_DSN1,{$ORACLE.DSN1},])>{$ORACLE.PROCESSE_PERCENT.MAX.WARN}",
                                "name": "Oracle: Process Limit % is HIGH for {$ORACLE.DSN1}",
                                "priority": "WARNING",
                                "description": "Oracle: Process Limit % is HIGH for {$ORACLE.DSN1}"
                            },
                            {
                                "uuid": "cb87425c431b458881fe2af9f97295dd",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Process_limit_DSN1,{$ORACLE.DSN1},])>{$ORACLE.PROCESSE_PERCENT.MAX.HIGH}",
                                "name": "Oracle: Process Limit % is Too HIGH for {$ORACLE.DSN1}",
                                "priority": "AVERAGE",
                                "description": "Oracle: Process Limit % is Too HIGH for {$ORACLE.DSN1}"
                            }
                        ]
                    },
                    {
                        "uuid": "c01217bb2b7c4ea2a463d0e6a985654c",
                        "name": "Process limit for DSN2 (IN %)",
                        "type": "ODBC",
                        "key": "db.odbc.select[Process_limit_DSN2,{$ORACLE.DSN2},]",
                        "value_type": "FLOAT",
                        "units": "%",
                        "params": "select ((current_utilization*100)/(INITIAL_ALLOCATION)) as \"Process limit %\" from v$resource_limit where resource_name in ('processes');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Process limit Percentage",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "16bd3bc865324f70aa0d893791915431",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Process_limit_DSN2,{$ORACLE.DSN2},])>{$ORACLE.PROCESSE_PERCENT.MAX.WARN}",
                                "name": "Oracle: Process Limit % is HIGH for {$ORACLE.DSN2}",
                                "priority": "WARNING",
                                "description": "Oracle: Process Limit % is HIGH for {$ORACLE.DSN2}"
                            },
                            {
                                "uuid": "c2de5b81523a4aee80b572b0dd39d454",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Process_limit_DSN2,{$ORACLE.DSN2},])>{$ORACLE.PROCESSE_PERCENT.MAX.HIGH}",
                                "name": "Oracle: Process Limit % is Too HIGH for {$ORACLE.DSN2}",
                                "priority": "AVERAGE",
                                "description": "Oracle: Process Limit % is Too HIGH for {$ORACLE.DSN2}"
                            }
                        ]
                    },
                    {
                        "uuid": "ae3a3e9321184d539387c32851d83c8b",
                        "name": "Session limit for DSN1 (IN %)",
                        "type": "ODBC",
                        "key": "db.odbc.select[Session_limit_DSN1,{$ORACLE.DSN1},]",
                        "value_type": "FLOAT",
                        "units": "%",
                        "params": "select ((current_utilization*100)/(INITIAL_ALLOCATION)) as \"Session  %\" from v$resource_limit where resource_name in ('sessions');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Session limit Percentage",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "f921361817fc4c738dfb91ef644e203f",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Session_limit_DSN1,{$ORACLE.DSN1},])>{$ORACLE.SESSION_PERCENT.MAX.WARN}",
                                "name": "Oracle: Session Limit % is HIGH for {$ORACLE.DSN1}",
                                "priority": "WARNING",
                                "description": "Oracle: Session Limit % is HIGH for {$ORACLE.DSN1}"
                            },
                            {
                                "uuid": "96d56d6021d44ea4a5f47d3ab4eae389",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Session_limit_DSN1,{$ORACLE.DSN1},])>{$ORACLE.SESSION_PERCENT.MAX.HIGH}",
                                "name": "Oracle: Session Limit % is Too HIGH for {$ORACLE.DSN1}",
                                "priority": "AVERAGE",
                                "description": "Oracle: Session Limit % is Too HIGH for {$ORACLE.DSN1}"
                            }
                        ]
                    },
                    {
                        "uuid": "04933448348c4fb0b039ad2f251c31ed",
                        "name": "Session limit for DSN2 (IN %)",
                        "type": "ODBC",
                        "key": "db.odbc.select[Session_limit_DSN2,{$ORACLE.DSN2},]",
                        "value_type": "FLOAT",
                        "units": "%",
                        "params": "select ((current_utilization*100)/(INITIAL_ALLOCATION)) as \"Session  %\" from v$resource_limit where resource_name in ('sessions');",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Session limit Percentage",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "33d81689023441f7a2eca53a69c46bf3",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Session_limit_DSN2,{$ORACLE.DSN2},])>{$ORACLE.SESSION_PERCENT.MAX.WARN}",
                                "name": "Oracle: Session Limit % is HIGH for {$ORACLE.DSN2}",
                                "priority": "WARNING",
                                "description": "Oracle: Session Limit % is HIGH for {$ORACLE.DSN2}"
                            },
                            {
                                "uuid": "89b33a9a78574df68601937fd8bcf968",
                                "expression": "last(/Template Non-Prod Oracle DB/db.odbc.select[Session_limit_DSN2,{$ORACLE.DSN2},])>{$ORACLE.SESSION_PERCENT.MAX.HIGH}",
                                "name": "Oracle: Session Limit % is Too HIGH for {$ORACLE.DSN2}",
                                "priority": "AVERAGE",
                                "description": "Oracle: Session Limit % is Too HIGH for {$ORACLE.DSN2}"
                            }
                        ]
                    },
                    {
                        "uuid": "a5a806c807ad4b9c8f1f733eb545c2b6",
                        "name": "Oracle: Service's TCP port state",
                        "key": "net.tcp.service[tcp,{HOST.CONN},{$ORACLE.PORT}]",
                        "delay": "5m",
                        "history": "7d",
                        "description": "Test the availability of Oracle on TCP port",
                        "valuemap": {
                            "name": "Service State"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "431ac8fdd2ff4f7eb9ab0b3f7bbd7607",
                        "name": "Oracle: PGA, Aggregate target parameter for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.pga_target_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Current value of the PGA_AGGREGATE_TARGET initialization parameter. If this parameter is not set, then its value is 0 and automatic management of PGA memory is disabled.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='PGA::Aggregate Pga Target Parameter')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "72ec284631134d44bf2253bdda6cb888",
                        "name": "Oracle: PGA, Aggregate target parameter for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.pga_target_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Current value of the PGA_AGGREGATE_TARGET initialization parameter. If this parameter is not set, then its value is 0 and automatic management of PGA memory is disabled.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='PGA::Aggregate Pga Target Parameter')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "c114175c0d624713a708a21c304b12c4",
                        "name": "Oracle: Number of processes for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.processes_count_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='PROC::Procnum')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "585fdbc23a7d48ba929975eaf5ca6ca4",
                        "name": "Oracle: Number of processes for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.processes_count_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='PROC::Procnum')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "d3dcfe8854bb4198a52527ce96685ef8",
                        "name": "Oracle: Processes limit for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.processes_limit_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "description": "Max user processes.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SYSPARAM::Processes')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "331c12c873754a43815c4cccd5e43c63",
                        "name": "Oracle: Processes limit for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.processes_limit_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "description": "Max user processes.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SYSPARAM::Processes')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "215c8996bdfb4663bc185c1f5fd297ef",
                        "name": "Oracle: Session count for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.session_count_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SESSION::Total')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "924e7af1225c4305be4dfdfc549b7968",
                        "name": "Oracle: Session count for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.session_count_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SESSION::Total')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "817d6012e4184ab79880885670a033d8",
                        "name": "Oracle: Sessions limit for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.session_limit_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "description": "User and system sessions.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SYSPARAM::Sessions')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "ddaf7e951302455a835fe551690bc361",
                        "name": "Oracle: Sessions limit for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.session_limit_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "description": "User and system sessions.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SYSPARAM::Sessions')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "6cdef61b1b3b4ea6acd3779edc19fc02",
                        "name": "Oracle: Sessions lock rate for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.session_lock_rate_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "description": "The percentage of locked sessions. Locks are mechanisms that prevent destructive interaction between transactions accessing the same resource\u2014either user objects such as tables and rows or system objects not visible to users, such as shared data structures in memory and data dictionary rows.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SESSION::Lock rate')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "f8fbe4e3e4cc424288bed08c533b6de5",
                                "expression": "min(/Template Non-Prod Oracle DB/oracle.session_lock_rate_DSN1,5m)>{$ORACLE.SESSIONS.LOCK.MAX.WARN}",
                                "name": "Oracle: Too many locked sessions for {$ORACLE.DSN1} (over {$ORACLE.SESSIONS.LOCK.MAX.WARN}% for 5 min)",
                                "priority": "WARNING",
                                "description": "Number of locked sessions is over {$ORACLE.SESSIONS.LOCK.MAX.WARN}% of the running sessions."
                            }
                        ]
                    },
                    {
                        "uuid": "f6f7e2a620674b9d869ac1620b64b68d",
                        "name": "Oracle: Sessions lock rate for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.session_lock_rate_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "description": "The percentage of locked sessions. Locks are mechanisms that prevent destructive interaction between transactions accessing the same resource\u2014either user objects such as tables and rows or system objects not visible to users, such as shared data structures in memory and data dictionary rows.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SESSION::Lock rate')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "78f99faf21574656b36cb02100264cd6",
                                "expression": "min(/Template Non-Prod Oracle DB/oracle.session_lock_rate_DSN2,5m)>{$ORACLE.SESSIONS.LOCK.MAX.WARN}",
                                "name": "Oracle: Too many locked sessions for {$ORACLE.DSN2} (over {$ORACLE.SESSIONS.LOCK.MAX.WARN}% for 5 min)",
                                "priority": "WARNING",
                                "description": "Number of locked sessions is over {$ORACLE.SESSIONS.LOCK.MAX.WARN}% of the running sessions."
                            }
                        ]
                    },
                    {
                        "uuid": "8bf11c6062734dc0acd6f84a426df961",
                        "name": "Oracle: Sessions locked over {$ORACLE.SESSION.LOCK.MAX.TIME}s over DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.session_long_time_locked_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "description": "Number of sessions locked over {$ORACLE.SESSION.LOCK.MAX.TIME} seconds is too high. Long-term locks can negatively affect database performance, therefore, if they are detected, you should first find the most difficult queries from the database point of view and analyze possible resource leaks.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SESSION::Long time locked')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "f6fc31fcea56414ea5eb6c5ea637eac3",
                                "expression": "min(/Template Non-Prod Oracle DB/oracle.session_long_time_locked_DSN1,5m)>{$ORACLE.SESSION.LONG.LOCK.MAX.WARN}",
                                "name": "Oracle: Too many sessions locked over {$ORACLE.DSN1} {$ORACLE.SESSION.LOCK.MAX.TIME}s (over {$ORACLE.SESSION.LONG.LOCK.MAX.WARN} for 5 min)",
                                "priority": "WARNING",
                                "description": "Number of sessions locked over {$ORACLE.SESSION.LOCK.MAX.TIME} seconds is too high. Long-term locks can negatively affect database performance, therefore, if they are detected, you should first find the most difficult queries from the database point of view and analyze possible resource leaks."
                            }
                        ]
                    },
                    {
                        "uuid": "87fc03d6106a4370877b730b7cb85235",
                        "name": "Oracle: Sessions locked over {$ORACLE.SESSION.LOCK.MAX.TIME}s over DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.session_long_time_locked_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "description": "Number of sessions locked over {$ORACLE.SESSION.LOCK.MAX.TIME} seconds is too high. Long-term locks can negatively affect database performance, therefore, if they are detected, you should first find the most difficult queries from the database point of view and analyze possible resource leaks.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SESSION::Long time locked')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "d6b8901877b24ee3a24f65710a08160f",
                                "expression": "min(/Template Non-Prod Oracle DB/oracle.session_long_time_locked_DSN2,5m)>{$ORACLE.SESSION.LONG.LOCK.MAX.WARN}",
                                "name": "Oracle: Too many sessions locked over {$ORACLE.DSN2} {$ORACLE.SESSION.LOCK.MAX.TIME}s (over {$ORACLE.SESSION.LONG.LOCK.MAX.WARN} for 5 min)",
                                "priority": "WARNING",
                                "description": "Number of sessions locked over {$ORACLE.SESSION.LOCK.MAX.TIME} seconds is too high. Long-term locks can negatively affect database performance, therefore, if they are detected, you should first find the most difficult queries from the database point of view and analyze possible resource leaks."
                            }
                        ]
                    },
                    {
                        "uuid": "552207324ff041c8b22b6e0779bb8890",
                        "name": "Oracle: Shared pool free % for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.shared_pool_free_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "%",
                        "description": "Shared pool free memory percent. Free/Total",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SYS::Shared Pool Free %')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "834443b523384e68921951634bc8a27f",
                                "expression": "max(/Template Non-Prod Oracle DB/oracle.shared_pool_free_DSN1,5m)<{$ORACLE.SHARED.FREE.MIN.WARN}",
                                "name": "Oracle: Shared pool free is too low for {$ORACLE.DSN1} (less {$ORACLE.SHARED.FREE.MIN.WARN}% for 5m)",
                                "priority": "WARNING",
                                "description": "The shared pool free memory percent has been less than {$ORACLE.SHARED.FREE.MIN.WARN}% in the last 5 minutes."
                            }
                        ]
                    },
                    {
                        "uuid": "e95568b42d8842989d5cbe7ee460f3ba",
                        "name": "Oracle: Shared pool free % for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.shared_pool_free_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "%",
                        "description": "Shared pool free memory percent. Free/Total",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='SYS::Shared Pool Free %')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "241e82179088484db876b8983f0b8310",
                                "expression": "max(/Template Non-Prod Oracle DB/oracle.shared_pool_free_DSN2,5m)<{$ORACLE.SHARED.FREE.MIN.WARN}",
                                "name": "Oracle: Shared pool free is too low for {$ORACLE.DSN2} (less {$ORACLE.SHARED.FREE.MIN.WARN}% for 5m)",
                                "priority": "WARNING",
                                "description": "The shared pool free memory percent has been less than {$ORACLE.SHARED.FREE.MIN.WARN}% in the last 5 minutes."
                            }
                        ]
                    },
                    {
                        "uuid": "036d540d46de472fad3a8f0ac06d178a",
                        "name": "Oracle: PGA, Total inuse for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.total_pga_used_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Indicates how much PGA memory is currently consumed by work areas. This number can be used to determine how much memory is consumed by other consumers of the PGA memory (for example, PL/SQL or Java).",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='PGA::Total Pga Inuse')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "d995a793f65541898b6adfc5ae15ae90",
                        "name": "Oracle: PGA, Total inuse for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.total_pga_used_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Indicates how much PGA memory is currently consumed by work areas. This number can be used to determine how much memory is consumed by other consumers of the PGA memory (for example, PL/SQL or Java).",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='PGA::Total Pga Inuse')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ]
                    },
                    {
                        "uuid": "3f22e677483e4744b48b3c43e6935112",
                        "name": "Oracle: Uptime for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.uptime_DSN1",
                        "delay": "0",
                        "units": "s",
                        "description": "Oracle instance uptime in seconds.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$..UPTIME.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Instance_State,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "4fd53b8ebbb24bd69694fb2e1a7bfeea",
                                "expression": "nodata(/Template Non-Prod Oracle DB/oracle.uptime_DSN1,5m)=1",
                                "name": "Oracle: Failed to fetch info data (or no data for 5m) for {ORACLE.DSN1}",
                                "priority": "WARNING",
                                "description": "Zabbix has not received data for items for the last 5 minutes. The database might be unavailable for connecting.",
                                "dependencies": [
                                    {
                                        "name": "Oracle: {$ORACLE.DSN1} has been restarted (uptime < 10m)",
                                        "expression": "last(/Template Non-Prod Oracle DB/oracle.uptime_DSN1)<10m"
                                    }
                                ]
                            },
                            {
                                "uuid": "c27b2422f378467da52da64c2bed3741",
                                "expression": "last(/Template Non-Prod Oracle DB/oracle.uptime_DSN1)<10m",
                                "name": "Oracle: {$ORACLE.DSN1} has been restarted (uptime < 10m)",
                                "priority": "AVERAGE",
                                "description": "Uptime is less than 10 minutes",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "7b9ef32c1ae24742970e637d632c1904",
                        "name": "Oracle: Uptime for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.uptime_DSN2",
                        "delay": "0",
                        "units": "s",
                        "description": "Oracle instance uptime in seconds.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$..UPTIME.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Instance_State,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "53a8eb9b45784b1aba5e86b3cbf1e25d",
                                "expression": "nodata(/Template Non-Prod Oracle DB/oracle.uptime_DSN2,5m)=1",
                                "name": "Oracle: Failed to fetch info data (or no data for 5m) for {ORACLE.DSN2}",
                                "priority": "WARNING",
                                "description": "Zabbix has not received data for items for the last 5 minutes. The database might be unavailable for connecting.",
                                "dependencies": [
                                    {
                                        "name": "Oracle: {$ORACLE.DSN2} has been restarted (uptime < 10m)",
                                        "expression": "last(/Template Non-Prod Oracle DB/oracle.uptime_DSN2)<10m"
                                    }
                                ]
                            },
                            {
                                "uuid": "e482b72f0b0d4c15916f60a2d90e2519",
                                "expression": "last(/Template Non-Prod Oracle DB/oracle.uptime_DSN2)<10m",
                                "name": "Oracle: {$ORACLE.DSN2} has been restarted (uptime < 10m)",
                                "priority": "AVERAGE",
                                "description": "Uptime is less than 10 minutes",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "35440f6225d74319baee6e753a4e0694",
                        "name": "Oracle: User '{$ORACLE.USER}' expire password for DSN1",
                        "type": "DEPENDENT",
                        "key": "oracle.user_expire_password_DSN1",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "days",
                        "description": "The number of days before zabbix account password expired.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='USER::Expire password')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN1}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "ace63a574f3145f18684eaf4ae343211",
                                "expression": "last(/Template Non-Prod Oracle DB/oracle.user_expire_password_DSN1)<{$ORACLE.EXPIRE.PASSWORD.MIN.WARN}",
                                "name": "Oracle: Zabbix account will expire soon for {$ORACLE.DSN1} (under {$ORACLE.EXPIRE.PASSWORD.MIN.WARN} days)",
                                "priority": "WARNING",
                                "description": "Password for zabbix user in the database will expire soon."
                            }
                        ]
                    },
                    {
                        "uuid": "ffdbec8c4b994927b0ad15c09ccdd0f9",
                        "name": "Oracle: User '{$ORACLE.USER}' expire password for DSN2",
                        "type": "DEPENDENT",
                        "key": "oracle.user_expire_password_DSN2",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "days",
                        "description": "The number of days before zabbix account password expired.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$[?(@.METRIC=='USER::Expire password')].VALUE.first()"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "db.odbc.get[Get_System_Metrics,{$ORACLE.DSN2}]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "199c96b172f34ea99aef3c18a173531f",
                                "expression": "last(/Template Non-Prod Oracle DB/oracle.user_expire_password_DSN2)<{$ORACLE.EXPIRE.PASSWORD.MIN.WARN}",
                                "name": "Oracle: Zabbix account will expire soon for {$ORACLE.DSN2} (under {$ORACLE.EXPIRE.PASSWORD.MIN.WARN} days)",
                                "priority": "WARNING",
                                "description": "Password for zabbix user in the database will expire soon."
                            }
                        ]
                    },
                    {
                        "uuid": "82cb712d2dbf4119923eb96d28cd4f66",
                        "name": "Oracle: Number of LISTENER processes",
                        "key": "proc.num[,,,\"tnslsnr LISTENER\"]",
                        "delay": "3m",
                        "history": "7d",
                        "description": "Number of LISTENER processes running",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Oracle_DB"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "58ef1ce3e9194664a988724eb653f6b3",
                                "expression": "max(/Template Non-Prod Oracle DB/proc.num[,,,\"tnslsnr LISTENER\"],#3)=0",
                                "name": "Oracle: LISTENER process is not running",
                                "priority": "AVERAGE"
                            }
                        ]
                    }
                ],
                "discovery_rules": [
                    {
                        "uuid": "ec453d1a98fe4a64a4e5d7d0ee987eb6",
                        "name": "Archive log discovery for {$ORACLE.DSN1}",
                        "type": "ODBC",
                        "key": "db.odbc.discovery[archivelog,{$ORACLE.DSN1}]",
                        "delay": "1h",
                        "params": "SELECT d.dest_name\nFROM v$archive_dest d , v$database db WHERE d.status != 'INACTIVE' AND db.log_mode = 'ARCHIVELOG';",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Log archive destinations.",
                        "item_prototypes": [
                            {
                                "uuid": "163f1edc899b44ef8150231d98b62281",
                                "name": "Archivelog '{#DEST_NAME}': Status for {$ORACLE.DSN1}",
                                "type": "DEPENDENT",
                                "key": "oracle.archivelog_log_status_DSN1[\"{#DEST_NAME}\"]",
                                "delay": "0",
                                "description": "Identifies the current status of the destination: 1 - 'Valid', 2 - 'Dederred',3 - 'Error', 0 - 'Unknown'",
                                "valuemap": {
                                    "name": "Oracle Archivelog status"
                                },
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$[?(@.DEST_NAME=='{#DEST_NAME}')].STATUS.first()"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1h"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "db.odbc.get[get_archivelog_stat,{$ORACLE.DSN1}]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Oracle_DB"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "645938c45df3404b9e532917e258c220",
                                        "expression": "last(/Template Non-Prod Oracle DB/oracle.archivelog_log_status_DSN1[\"{#DEST_NAME}\"])<2",
                                        "name": "Archivelog '{#DEST_NAME}': Log Archive is not valid for {$ORACLE.DSN1}",
                                        "priority": "WARNING",
                                        "description": "ARL destination not in 3 - Valid or 2 - Deferred."
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "30eee6c15afc49d9ac78fa03b5946a11",
                        "name": "Archive log discovery for {$ORACLE.DSN2}",
                        "type": "ODBC",
                        "key": "db.odbc.discovery[archivelog,{$ORACLE.DSN2}]",
                        "delay": "1h",
                        "params": "SELECT d.dest_name\nFROM v$archive_dest d , v$database db WHERE d.status != 'INACTIVE' AND db.log_mode = 'ARCHIVELOG';",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "description": "Log archive destinations.",
                        "item_prototypes": [
                            {
                                "uuid": "fbe638d366574e8ab5b017347b3407f6",
                                "name": "Archivelog '{#DEST_NAME}': Status for {$ORACLE.DSN2}",
                                "type": "DEPENDENT",
                                "key": "oracle.archivelog_log_status_DSN2[\"{#DEST_NAME}\"]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Identifies the current status of the destination: 1 - 'Valid', 2 - 'Dederred',3 - 'Error', 0 - 'Unknown'",
                                "valuemap": {
                                    "name": "Oracle Archivelog status"
                                },
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$[?(@.DEST_NAME=='{#DEST_NAME}')].STATUS.first()"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1h"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "db.odbc.get[get_archivelog_stat,{$ORACLE.DSN2}]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Oracle_DB"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "9ac632daad664cd18c53504ec5f7d899",
                                        "expression": "last(/Template Non-Prod Oracle DB/oracle.archivelog_log_status_DSN2[\"{#DEST_NAME}\"])<2",
                                        "name": "Archivelog '{#DEST_NAME}': Log Archive is not valid for {$ORACLE.DSN2}",
                                        "priority": "WARNING",
                                        "description": "ARL destination not in 3 - Valid or 2 - Deferred."
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "6fba560be93a45e8ab81be06d2a69e8c",
                        "name": "Tablespace discovery for {$ORACLE.DSN1}",
                        "type": "ODBC",
                        "key": "db.odbc.discovery[tbsname,{$ORACLE.DSN1}]",
                        "delay": "1h",
                        "params": "SELECT\ntablespace_name AS tablespace,\ncontents  FROM DBA_TABLESPACES;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "filter": {
                            "evaltype": "AND",
                            "conditions": [
                                {
                                    "macro": "{#TABLESPACE}",
                                    "value": "{$ORACLE.TABLESPACE.NAME.MATCHES}",
                                    "formulaid": "A"
                                },
                                {
                                    "macro": "{#TABLESPACE}",
                                    "value": "{$ORACLE.TABLESPACE.NAME.NOT_MATCHES}",
                                    "operator": "NOT_MATCHES_REGEX",
                                    "formulaid": "B"
                                }
                            ]
                        },
                        "description": "Scanning tablespaces in DBMS.",
                        "item_prototypes": [
                            {
                                "uuid": "774aba9b03ec4268a22e33472f4c20dd",
                                "name": "Oracle TBS '{#TABLESPACE}': Tablespace allocated, percent for {$ORACLE.DSN1}",
                                "type": "DEPENDENT",
                                "key": "oracle.tbs_used_pct_DSN1[\"{#TABLESPACE}\"]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "units": "%",
                                "description": "Allocated bytes/Max bytes*100",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$[?(@.TABLESPACE=='{#TABLESPACE}')].USED_PCT_MAX.first()"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "db.odbc.get[get_tablespaces_stats,{$ORACLE.DSN1}]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Oracle_DB"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "464796b178b645bc8cc7f544726f3e3e",
                                        "expression": "min(/Template Non-Prod Oracle DB/oracle.tbs_used_pct_DSN1[\"{#TABLESPACE}\"],5m)>{$ORACLE.TBS.UTIL.PCT.MAX.HIGH}",
                                        "name": "Oracle TBS '{#TABLESPACE}': Tablespace utilization is too high (over {$ORACLE.TBS.UTIL.PCT.MAX.HIGH}% for 5m). for {$ORACLE.DSN1}",
                                        "priority": "AVERAGE"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "0aab618cdb464b0f8ac4af7317e87949",
                        "name": "Tablespace discovery for {$ORACLE.DSN2}",
                        "type": "ODBC",
                        "key": "db.odbc.discovery[tbsname,{$ORACLE.DSN2}]",
                        "delay": "1h",
                        "params": "SELECT\ntablespace_name AS tablespace,\ncontents  FROM DBA_TABLESPACES;",
                        "username": "{$ORACLE.USER}",
                        "password": "{$ORACLE.PASSWORD}",
                        "filter": {
                            "evaltype": "AND",
                            "conditions": [
                                {
                                    "macro": "{#TABLESPACE}",
                                    "value": "{$ORACLE.TABLESPACE.NAME.MATCHES}",
                                    "formulaid": "A"
                                },
                                {
                                    "macro": "{#TABLESPACE}",
                                    "value": "{$ORACLE.TABLESPACE.NAME.NOT_MATCHES}",
                                    "operator": "NOT_MATCHES_REGEX",
                                    "formulaid": "B"
                                }
                            ]
                        },
                        "description": "Scanning tablespaces in DBMS.",
                        "item_prototypes": [
                            {
                                "uuid": "e6d6ce342bf84786a37544b06fe48293",
                                "name": "Oracle TBS '{#TABLESPACE}': Tablespace allocated, percent for {$ORACLE.DSN2}",
                                "type": "DEPENDENT",
                                "key": "oracle.tbs_used_pct_DSN2[\"{#TABLESPACE}\"]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "%",
                                "description": "Allocated bytes/Max bytes*100",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$[?(@.TABLESPACE=='{#TABLESPACE}')].USED_PCT_MAX.first()"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "db.odbc.get[get_tablespaces_stats,{$ORACLE.DSN2}]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Oracle_DB"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "8dbdae28fad74ff1995d2c1a54de9b11",
                                        "expression": "min(/Template Non-Prod Oracle DB/oracle.tbs_used_pct_DSN2[\"{#TABLESPACE}\"],5m)>{$ORACLE.TBS.UTIL.PCT.MAX.HIGH}",
                                        "name": "Oracle TBS '{#TABLESPACE}': Tablespace utilization is too high (over {$ORACLE.TBS.UTIL.PCT.MAX.HIGH}% for 5m). for  {$ORACLE.DSN2}",
                                        "priority": "AVERAGE"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "tags": [
                    {
                        "tag": "Application",
                        "value": "Oracle_DB"
                    }
                ],
                "macros": [
                    {
                        "macro": "{$ORACLE.ARCHIVEAREA.USAGE.HIGH}",
                        "value": "96"
                    },
                    {
                        "macro": "{$ORACLE.ARCHIVEAREA.USAGE.WARN}",
                        "value": "85"
                    },
                    {
                        "macro": "{$ORACLE.DSN1}"
                    },
                    {
                        "macro": "{$ORACLE.DSN2}"
                    },
                    {
                        "macro": "{$ORACLE.EXPIRE.PASSWORD.MIN.WARN}",
                        "value": "7",
                        "description": "Number of days of warning before password expires (for trigger expression)."
                    },
                    {
                        "macro": "{$ORACLE.PASSWORD}"
                    },
                    {
                        "macro": "{$ORACLE.PGA.USE.MAX.WARN}",
                        "value": "99"
                    },
                    {
                        "macro": "{$ORACLE.PORT}",
                        "value": "1521"
                    },
                    {
                        "macro": "{$ORACLE.PROCESSES.MAX.WARN}",
                        "value": "80"
                    },
                    {
                        "macro": "{$ORACLE.PROCESSE_PERCENT.MAX.HIGH}",
                        "value": "96"
                    },
                    {
                        "macro": "{$ORACLE.PROCESSE_PERCENT.MAX.WARN}",
                        "value": "89"
                    },
                    {
                        "macro": "{$ORACLE.SESSION.LOCK.MAX.TIME}",
                        "value": "600"
                    },
                    {
                        "macro": "{$ORACLE.SESSION.LONG.LOCK.MAX.WARN}",
                        "value": "3"
                    },
                    {
                        "macro": "{$ORACLE.SESSIONS.LOCK.MAX.WARN}",
                        "value": "20"
                    },
                    {
                        "macro": "{$ORACLE.SESSIONS.MAX.WARN}",
                        "value": "80"
                    },
                    {
                        "macro": "{$ORACLE.SESSION_PERCENT.MAX.HIGH}",
                        "value": "96"
                    },
                    {
                        "macro": "{$ORACLE.SESSION_PERCENT.MAX.WARN}",
                        "value": "89"
                    },
                    {
                        "macro": "{$ORACLE.SHARED.FREE.MIN.WARN}",
                        "value": "5"
                    },
                    {
                        "macro": "{$ORACLE.TABLESPACE.NAME.MATCHES}",
                        "value": ".*"
                    },
                    {
                        "macro": "{$ORACLE.TABLESPACE.NAME.NOT_MATCHES}",
                        "value": "CHANGE_IF_NEEDED"
                    },
                    {
                        "macro": "{$ORACLE.TBS.USED.PCT.MAX.HIGH}",
                        "value": "95"
                    },
                    {
                        "macro": "{$ORACLE.TBS.UTIL.PCT.MAX.HIGH}",
                        "value": "90"
                    },
                    {
                        "macro": "{$ORACLE.USER}"
                    }
                ],
                "valuemaps": [
                    {
                        "uuid": "87e5df6decc547d8bcfff909ed29d4e0",
                        "name": "Oracle Archivelog status",
                        "mappings": [
                            {
                                "value": "0",
                                "newvalue": "Unknown"
                            },
                            {
                                "value": "1",
                                "newvalue": "Error"
                            },
                            {
                                "value": "2",
                                "newvalue": "Deferred"
                            },
                            {
                                "value": "3",
                                "newvalue": "Valid"
                            }
                        ]
                    },
                    {
                        "uuid": "e6233dcfbabe48899a207e82894bccf8",
                        "name": "Oracle DB open status",
                        "mappings": [
                            {
                                "value": "0",
                                "newvalue": "Unknown"
                            },
                            {
                                "value": "1",
                                "newvalue": "Mounted"
                            },
                            {
                                "value": "2",
                                "newvalue": "Read Only"
                            },
                            {
                                "value": "3",
                                "newvalue": "Read-Write"
                            },
                            {
                                "value": "4",
                                "newvalue": "Read Only with Apply"
                            }
                        ]
                    },
                    {
                        "uuid": "19492d5ca7c548e78686b07bc5ce0683",
                        "name": "Service State",
                        "mappings": [
                            {
                                "value": "1",
                                "newvalue": "Up"
                            },
                            {
                                "value": "0",
                                "newvalue": "Down"
                            }
                        ]
                    }
                ]
            }
        ],
        "triggers": [
            {
                "uuid": "c1f7cdeb751745848505fcb2486c1c4d",
                "expression": "max(/Template Non-Prod Oracle DB/net.tcp.service[tcp,{HOST.CONN},{$ORACLE.PORT}],#3)=0 and max(/Template Non-Prod Oracle DB/proc.num[,,,\"tnslsnr LISTENER\"],#3)=0",
                "name": "Oracle: Port {$ORACLE.PORT} is unavailable",
                "priority": "AVERAGE",
                "description": "The TCP port of the Oracle Server service is currently unavailable."
            },
            {
                "uuid": "5fd361884e2640ad92eaa9ce0cd231f6",
                "expression": "min(/Template Non-Prod Oracle DB/oracle.processes_count_DSN1,5m) * 100 / last(/Template Non-Prod Oracle DB/oracle.processes_limit_DSN1) > {$ORACLE.PROCESSES.MAX.WARN}",
                "name": "Oracle: Too many active processes for {$ORACLE.DSN1} (over {$ORACLE.PROCESSES.MAX.WARN}% for 5 min)",
                "priority": "AVERAGE",
                "description": "Active processes are using more than {$ORACLE.PROCESSES.MAX.WARN}% of the available number of processes."
            },
            {
                "uuid": "9dc6a70dd1e54e7f96b1294d8c1e719b",
                "expression": "min(/Template Non-Prod Oracle DB/oracle.processes_count_DSN2,5m) * 100 / last(/Template Non-Prod Oracle DB/oracle.processes_limit_DSN2)>{$ORACLE.PROCESSES.MAX.WARN}",
                "name": "Oracle: Too many active processes for {$ORACLE.DSN2} (over {$ORACLE.PROCESSES.MAX.WARN}% for 5 min)",
                "priority": "AVERAGE",
                "description": "Active processes are using more than {$ORACLE.PROCESSES.MAX.WARN}% of the available number of processes."
            },
            {
                "uuid": "380dbabdb9fe4f0082630228400cad36",
                "expression": "min(/Template Non-Prod Oracle DB/oracle.session_count_DSN1,5m) * 100 / last(/Template Non-Prod Oracle DB/oracle.session_limit_DSN1) > {$ORACLE.SESSIONS.MAX.WARN}",
                "name": "Oracle: Too many active sessions for {$ORACLE.DSN1}  (over {$ORACLE.SESSIONS.MAX.WARN}% for 5 min)",
                "priority": "AVERAGE",
                "description": "Active sessions are using more than {$ORACLE.SESSIONS.MAX.WARN}% of the available sessions."
            },
            {
                "uuid": "c149e45586f34b78906c2a67af1627d4",
                "expression": "min(/Template Non-Prod Oracle DB/oracle.session_count_DSN2,5m) * 100 / last(/Template Non-Prod Oracle DB/oracle.session_limit_DSN2)>{$ORACLE.SESSIONS.MAX.WARN}",
                "name": "Oracle: Too many active sessions for {$ORACLE.DSN2}  (over {$ORACLE.SESSIONS.MAX.WARN}% for 5 min)",
                "priority": "AVERAGE",
                "description": "Active sessions are using more than {$ORACLE.SESSIONS.MAX.WARN}% of the available sessions."
            },
            {
                "uuid": "942fff867f1240cf830b3b2c98cf6fac",
                "expression": "min(/Template Non-Prod Oracle DB/oracle.total_pga_used_DSN1,5m) * 100 / last(/Template Non-Prod Oracle DB/oracle.pga_target_DSN1)>{$ORACLE.PGA.USE.MAX.WARN}",
                "name": "Oracle: Total PGA inuse is too high for {$ORACLE.DSN1} (over {$ORACLE.PGA.USE.MAX.WARN}% for 5 min)",
                "priority": "WARNING",
                "description": "Total PGA in use is more than {$ORACLE.PGA.USE.MAX.WARN}% of PGA_AGGREGATE_TARGET."
            },
            {
                "uuid": "895457a9627e412d9d865c04104d0061",
                "expression": "min(/Template Non-Prod Oracle DB/oracle.total_pga_used_DSN2,5m) * 100 / last(/Template Non-Prod Oracle DB/oracle.pga_target_DSN2)>{$ORACLE.PGA.USE.MAX.WARN}",
                "name": "Oracle: Total PGA inuse is too high for {$ORACLE.DSN2} (over {$ORACLE.PGA.USE.MAX.WARN}% for 5 min)",
                "priority": "WARNING",
                "description": "Total PGA in use is more than {$ORACLE.PGA.USE.MAX.WARN}% of PGA_AGGREGATE_TARGET."
            }
        ]
    }
}